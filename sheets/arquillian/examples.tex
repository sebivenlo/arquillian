\section[Examples]{Arquillian test examples}

\subsection[Unit test]{Arquillian unit test}
\begin{frame}{Arquillian unit test}
\lstset{basicstyle={\scriptsize},upquote=true,language=Java}
  \lstinputlisting[firstline=45,lastline=52,title={Simple Greeter test}]{../code/arquillian-tutorial/src/test/java/org/arquillian/example/GreeterTest.java}
\begin{itemize}
	\item{ \textbf{@Injected} Dependency inject objects that are used during the tests, equals as using jUnits \textit{@before}  to set up tests}
	\item{ \textbf{@Test} defines which methods are tests and should be executed}
	\item{ \textbf{Asserts} are the same as in  jUnit}
\end{itemize}
\end{frame}

\subsection[Shrinkwrapper]{Shrinkwrapper example}
\begin{frame}{Shrinkwrapper example}
\lstset{basicstyle={\scriptsize},upquote=true,language=Java}
  \lstinputlisting[firstline=36,lastline=44, title={Greeter test Shrinkwrapper} ]{../code/arquillian-tutorial/src/test/java/org/arquillian/example/GreeterTest.java}

\begin{itemize}
	\item{\textbf{@Deployment} defines which method is run before a test is executed. It need to return the minimal archive which is needed to execute the tests of this class}
	\item{\textbf{JavaArchive} a class representing the structure of a jar file}
	\item{\textbf{ShrinkWrap.create} allows to create an archive of the specified class, in case of a unit test JavaArchive.class}
\end{itemize}
\end{frame}



\begin{frame}{Shrinkwrapper example}
\lstset{basicstyle={\scriptsize},upquote=true,language=Java}
  \lstinputlisting[firstline=36,lastline=44, title={Greeter test Shrinkwrapper} ]{../code/arquillian-tutorial/src/test/java/org/arquillian/example/GreeterTest.java}

\begin{itemize}
	\item{\textbf{addClasses} allows to add classes,that are needed during the tests, to the jar}
	\item{\textbf{addAsManifestResource} allows to add a resource,that are needed for the execution e.g. database configuration file, to the jar}
	\item{\textbf{EmptyAsset.INSTANCE} creates an empty file}
\end{itemize}

\end{frame}

\subsection[Complete test]{Complete test}
\begin{frame}{Complete test}
\lstset{basicstyle={\tiny},upquote=true,language=Java}
  \lstinputlisting[firstline= 33,title={Greeter test} ]{../code/arquillian-tutorial/src/test/java/org/arquillian/example/GreeterTest.java}
\begin{itemize}
	\item{\textbf{@RunWith(Arquillian.class)} is need for every test class to indicate that this test should be executed with Arquillian}
	
\end{itemize}
\end{frame}
\subsection[Persistence test]{Arquillian persistence test}
\begin{frame}{Arquillian persistence test}
\lstset{basicstyle={\tiny},upquote=true,language=Java}
  \lstinputlisting[firstline=52,lastline=61,title={Persistance shrinkwrapper}]{../code/arquillian-persistence-tutorial/src/test/java/org/arquillian/example/GamePersistenceTest.java}
\begin{itemize}
	\item {\textbf {WebArchive}} a class representing the structure of a war file
	\item {\textbf {test-persistence.xml}} copy the used persistence.xml into the archive
	\item {\textbf {jbossas-ds.xml}} add the server config as WEB-INF resource
\end{itemize}
\end{frame}

\begin{frame}{Arquillian persistence test}
\lstset{basicstyle={\tiny},upquote=true,language=Java}
  \lstinputlisting[firstline=69,lastline=94,title={Persistance shrinkwrapper}]{../code/arquillian-persistence-tutorial/src/test/java/org/arquillian/example/GamePersistenceTest.java}

\end{frame}

\subsection[Functional test]{Arquillian functional test}
\begin{frame}{Arquillian functional test}
\lstset{basicstyle={\tiny},upquote=true,language=Java}
  \lstinputlisting[firstline=47,lastline=56,title={Functional shrinkwrapper}]{../code/arquillian-drone-tutorial/src/test/java/org/arquillian/example/ui/LoginScreenSeleniumTest.java}
  \begin{itemize}
  	\item {\textbf{@Deployment(testable = false)}} global deployment on client
  	\item {\textbf{@RunAsClient}} run method on client
  	\item {\textbf{addAsWebResource}} add html files needed for the test to the archive
  	\item {\textbf{merge}} add a new generic shrinkwrapper which contains all html files to the archive
  \end{itemize}
  
\end{frame}

\begin{frame}{Arquillian functional test}
\lstset{basicstyle={\tiny},upquote=true,language=Java}
  \lstinputlisting[firstline=58,lastline=75,title={Functional shrinkwrapper}]{../code/arquillian-drone-tutorial/src/test/java/org/arquillian/example/ui/LoginScreenSeleniumTest.java}
 \begin{itemize}
 	\item {\textbf{@Drone}} dependency injection of the browser controller
 	\item {\textbf{@ArquillianResource}} inject the URL 
 	\item {\textbf{@FindBy}} find dom object by id or css
 	\item {\textbf{@FindByJQuery}} find dom object by jQuery expressions
 \end{itemize}
\end{frame}

